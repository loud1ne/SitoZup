<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contatti | Zuppardo Costruzioni</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üèóÔ∏è</text></svg>">
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="vendor/aos/aos.css" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <style>
        .hidden { display: none; }

        /* Animazione Checkmark */
        .checkmark { width: 80px; height: 80px; border-radius: 50%; display: block; stroke-width: 2; stroke: #fff; stroke-miterlimit: 10; margin: 0 auto 2rem auto; box-shadow: inset 0px 0px 0px #4ade80; animation: fill .4s ease-in-out .4s forwards, scale .3s ease-in-out .9s both; }
        .checkmark__circle { stroke-dasharray: 166; stroke-dashoffset: 166; stroke-width: 2; stroke-miterlimit: 10; stroke: #4ade80; fill: none; animation: stroke 0.6s cubic-bezier(0.65, 0, 0.45, 1) forwards; }
        .checkmark__check { transform-origin: 50% 50%; stroke-dasharray: 48; stroke-dashoffset: 48; animation: stroke 0.3s cubic-bezier(0.65, 0, 0.45, 1) 0.8s forwards; }
        @keyframes stroke { 100% { stroke-dashoffset: 0; } }
        @keyframes scale { 0%, 100% { transform: none; } 50% { transform: scale3d(1.1, 1.1, 1); } }
        @keyframes fill { 100% { box-shadow: inset 0px 0px 0px 40px #4ade80; } }

        /* Transizione per il form */
        .form-container { transition: opacity 0.5s ease-out; }
    </style>
</head>
<body class="texture-bg">

    <div id="main-nav-placeholder"></div>

    <div class="min-h-screen pt-32 md:pt-40 px-6 md:px-20 pb-20 grid md:grid-cols-2 gap-12 md:gap-20">
        
        <div data-aos="fade-right" data-aos-duration="1000">
            <h1 class="text-6xl serif mt-4 mb-8">Iniziamo<br>il futuro.</h1>
            <p class="text-lg text-stone-600 mb-12 font-light">
                Siamo pronti ad ascoltare le tue idee. Compila il modulo o vieni a trovarci in sede per un caff√® e un preventivo senza impegno.
            </p>

            <div class="space-y-8">
                <div>
                    <h3 class="text-xs font-bold uppercase tracking-widest text-stone-400 mb-2">Sede Legale & Showroom</h3>
                    <p class="text-xl serif">Via Roma 10, Palermo</p>
                </div>
                <div>
                    <h3 class="text-xs font-bold uppercase tracking-widest text-stone-400 mb-2">Contatti Diretti</h3>
                    <p class="text-lg">info@costruzionizuppardo.it</p>
                    <p class="text-lg">+39 091 000 0000</p>
                </div>
            </div>
        </div>

        <div class="bg-white p-10 shadow-xl relative min-h-[500px] flex flex-col justify-center overflow-hidden" data-aos="fade-left" data-aos-duration="1000" data-aos-delay="200">
            
            <div id="form-wrapper" class="form-container">
                <form id="contact-form" class="space-y-6">
                    <input type="hidden" name="_captcha" value="false">
                    <input type="hidden" name="_template" value="table">
                    <input type="hidden" name="_subject" value="Nuova richiesta dal sito Zuppardo">

                    <div>
                        <label class="block text-xs uppercase tracking-widest text-stone-500 mb-2">Nome Completo</label>
                        <label>
                            <input type="text" name="name" required class="w-full border-b border-stone-300 py-2 outline-none focus:border-black transition-colors bg-transparent">
                        </label>
                    </div>

                    <div>
                        <label class="block text-xs uppercase tracking-widest text-stone-500 mb-2">Email</label>
                        <input type="email" name="email" required class="w-full border-b border-stone-300 py-2 outline-none focus:border-black transition-colors bg-transparent">
                    </div>

                    <div>
                        <label class="block text-xs uppercase tracking-widest text-stone-500 mb-2">Interesse</label>
                        <select name="service" class="w-full border-b border-stone-300 py-2 outline-none bg-transparent cursor-pointer">
                            <option value="Nuova Costruzione">Nuova Costruzione</option>
                            <option value="Ristrutturazione">Ristrutturazione</option>
                            <option value="Consulenza">Consulenza</option>
                        </select>
                    </div>

                    <div>
                        <label class="block text-xs uppercase tracking-widest text-stone-500 mb-2">Messaggio</label>
                        <textarea name="message" rows="4" required class="w-full border-b border-stone-300 py-2 outline-none focus:border-black transition-colors bg-transparent"></textarea>
                    </div>

                    <button type="submit" id="submit-btn" class="w-full bg-stone-900 text-white py-4 font-bold uppercase tracking-widest text-xs hover:bg-stone-700 transition-colors hover-lift">
                        Invia Richiesta
                    </button>

                    <p id="error-msg" class="text-red-600 text-xs hidden mt-2">Si √® verificato un errore. Riprova.</p>
                </form>
            </div>

            <div id="success-msg" class="hidden absolute inset-0 flex flex-col items-center justify-center p-10 bg-white z-10 text-center">
                <svg class="checkmark" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 52 52">
                    <circle class="checkmark__circle" cx="26" cy="26" r="25" fill="none"/>
                    <path class="checkmark__check" fill="none" d="M14.1 27.2l7.1 7.2 16.7-16.8"/>
                </svg>
                <h3 class="text-3xl md:text-4xl serif mb-3 text-stone-900">Messaggio Inviato!</h3>
                <p class="text-stone-500 mb-10 font-light text-base max-w-xs mx-auto leading-relaxed">
                    Grazie per averci contattato. Il nostro team ti risponder√† al pi√π presto.
                </p>
                <button id="reset-btn" class="px-8 py-3 bg-stone-900 text-white font-bold uppercase tracking-widest text-xs hover:bg-stone-800 transition-all duration-300 transform hover:-translate-y-1 shadow-md">
                    Invia un altro
                </button>
            </div>

        </div>
    </div>

    <div id="footer-placeholder"></div>

    <script src="vendor/aos/aos.js"></script>
    <script src="main.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const formWrapper = document.getElementById('form-wrapper');
            const contactForm = document.getElementById('contact-form');
            const successMsg = document.getElementById('success-msg');
            const errorMsg = document.getElementById('error-msg');
            const submitBtn = document.getElementById('submit-btn');
            const resetBtn = document.getElementById('reset-btn');

            contactForm.addEventListener('submit', function(e) {
                e.preventDefault();

                const formData = new FormData(contactForm);
                const action = "https://formsubmit.co/matteoruffo02@gmail.com";

                submitBtn.disabled = true;
                submitBtn.textContent = 'Invio in corso...';
                submitBtn.classList.add('opacity-75', 'cursor-not-allowed');
                errorMsg.classList.add('hidden');

                fetch(action, {
                    method: 'POST',
                    body: formData,
                    headers: { 'Accept': 'application/json' }
                })
                .then(response => {
                    if (response.ok) return response.json().catch(() => ({}));
                    throw new Error('Network response was not ok.');
                })
                .then(data => {
                    formWrapper.style.opacity = '0';
                    setTimeout(() => {
                        formWrapper.classList.add('hidden');
                        successMsg.classList.remove('hidden');
                    }, 500);
                })
                .catch(error => {
                    console.error('Error:', error);
                    errorMsg.classList.remove('hidden');
                })
                .finally(() => {
                    submitBtn.disabled = false;
                    submitBtn.textContent = 'Invia Richiesta';
                    submitBtn.classList.remove('opacity-75', 'cursor-not-allowed');
                });
            });

            resetBtn.addEventListener('click', function() {
                successMsg.classList.add('hidden');
                formWrapper.classList.remove('hidden');
                setTimeout(() => {
                    formWrapper.style.opacity = '1';
                    contactForm.reset();
                    errorMsg.classList.add('hidden');
                }, 50);
            });
        });
    </script>
</body>
</html>